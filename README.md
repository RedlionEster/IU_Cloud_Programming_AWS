# AWS Static Website Deployment with Terraform

This README provides a step-by-step guide for setting up a static website hosted on AWS S3 with CloudFront using Terraform.

## Prerequisites

- An AWS account with root user access. [AWS Console](https://aws.amazon.com)
- AWS CLI installed on your local machine. [AWS CLI](https://aws.amazon.com/cli)
- Terraform installed on your local machine. [Install Terraform](https://developer.hashicorp.com/terraform/install?product_intent=terraform)
- Repository cloned to your local machine. [Clone Repository](https://github.com/RedlionEster/IU_Cloud_Programming_AWS.git)

## Setup Instructions

### Step 1: Log In to AWS

- Go to [AWS Console](https://aws.amazon.com)
- Login with your AWS root account credentials.

### Step 2: Create an IAM User

- In the AWS Console, search for “IAM” and navigate to the IAM service.

- Click on “Users” in the left sidebar and then the Create user” button.
- Enter the following details:
  - User name: Enter a username (e.g., static-web-user).
  - Access type: Check “Provide user access to the AWS Management Console” and "I want to create an IAM user".
  - Choose “Autogenerated password” and uncheck “Users must create a new password at the next sign-in”.
  - Click on “Next”.

### Step 3: Set permissions

1.	Set permissions:
	- Select “Attach policies directly”.
2. Attach the following policies:
	- AmazonS3FullAccess
	- CloudFrontFullAccess
	- IAMFullAccess
3.	Click on “Next” and proceed to create the user.
4.  Retrieve password:
    - Download the CSV file with your Access Key ID and Secret Access Key.

### Step 4: Create Access Key

1.	Navigate to IAM > Users, select the user you created.
2.  Select the tab "Security credentials":
   - Click on “Create access key”.
   - Select use case: Choose “Command Line Interface (CLI)”.
   - At the bottom confirm the prompt "Confirmation" and click "Next".
   - Click on “Create access key”.
   - Download the .csv file with your Access Key ID and Secret Access Key.
   - Click on "Done" to finish.


### Step 5: Download and Install AWS CLI

1.	Visit the AWS CLI installation page.
- Download and install the CLI for your operating system.
2. Open your terminal to verify the installation:

```shell
aws --version
```

### Step 6: Set Up the AWS CLI

1.	Open your terminal or command prompt.
Run the following command:

```shell
aws configure
```


2. When prompted enter the following details:
- Access Key ID: From the CSV file.
- Secret Access Key: From the CSV file.
- Default region name: us-east-1 (or your preferred region).
- Default output format: json.
- Change the directory to the cloned repository:

```shell
-cd path/to/repository
```

### Step 7: Install Terraform

1.	Visit the Terraform download page.
- Download and install Terraform for your operating system.
- Verify the installation running the following command:

```shell
terraform version
```


### Step 8: Initialize and Deploy with Terraform

1.	Place the cloned Terraform configuration files in the same directory:
	- main.tf
	- variables.tf
	- outputs.tf
	- s3.tf
	- cloudfront.tf
	- Place your index.html file here as well.
	
2.	Initialize Terraform:
   - This downloads necessary provider plugins (e.g., AWS).
   - Run the following command:

```shell
terraform init
```

3.  Validate the Configuration:
- Run the following command to check the syntax and configuration consistency:

```shell
terraform validate
```

4. Create an Execution Plan:
- To Shows the actions Terraform will take, run the following command:

```shell
terraform plan
```


5.	Apply the Plan:
- To create the resources, run the following command:

```shell
terraform apply
```

- Type "yes" when prompted to confirm the changes.
- The process will take a few minutes to complete.

### Step 9: Access the Website:

- In the AWS Console, search for “CloudFront” and navigate to the CloudFront service.
- Click on the CloudFront distribution with the domain name.
- Copy the Distribution domain name link and paste it into your browser to access the website.

### Step 10:  Destroy Infrastructure

To avoid incurring charges, you can remove the resources when they’re no longer needed:
- Run the following command:

```shell
terraform destroy
```
- Confirm with "yes" to destroy all resources.
- 
